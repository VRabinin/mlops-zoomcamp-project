# Staging Environment Configuration
# This file demonstrates staging configuration using ONLY environment variables
# No YAML configuration files are loaded for staging environment

# Environment
ENVIRONMENT=staging
DEBUG=false
LOG_LEVEL=INFO

# Docker Compose Port Configuration
POSTGRES_PORT=5432
MLFLOW_PORT=5000
PREFECT_PORT=4200
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# Data Configuration - S3 based for staging
RAW_DATA_PATH=s3://mlops-staging-data/raw
PROCESSED_DATA_PATH=s3://mlops-staging-data/processed
FEATURE_STORE_PATH=s3://mlops-staging-data/features

# S3 Bucket Configuration for staging
MLFLOW_ARTIFACTS_BUCKET=mlops-staging-mlflow
DATA_LAKE_BUCKET=mlops-staging-data
MODEL_ARTIFACTS_BUCKET=mlops-staging-models

# S3 Data Path Configuration (paths within buckets)
S3_RAW_DATA_PATH=raw
S3_PROCESSED_DATA_PATH=processed
S3_FEATURES_DATA_PATH=features
S3_MODELS_PATH=models
S3_EXPERIMENTS_PATH=experiments
S3_PREFECT_FLOWS_PATH=prefect-flows

# Kaggle API
KAGGLE_USERNAME=${KAGGLE_USERNAME}
KAGGLE_KEY=${KAGGLE_KEY}

# Database Configuration - Managed RDS for staging
POSTGRES_USER=mlops_staging_user
POSTGRES_PASSWORD=${STAGING_DB_PASSWORD}
POSTGRES_DB=mlops_staging
POSTGRES_HOST=mlops-staging-db.region.rds.amazonaws.com
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:5432/mlops_staging

# MLFlow Configuration - Staging environment
MLFLOW_TRACKING_URI=https://mlflow-staging.your-domain.com
MLFLOW_ARTIFACT_LOCATION=s3://${MLFLOW_ARTIFACTS_BUCKET}/
MLFLOW_S3_ENDPOINT_URL=  # Empty for AWS S3

# Prefect Configuration - Staging
PREFECT_API_URL=https://prefect-staging.your-domain.com
PREFECT_API_KEY=${STAGING_PREFECT_API_KEY}
PREFECT_WORK_POOL=staging-agent-pool
PREFECT_API_DATABASE_CONNECTION_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:5432/mlops_staging

# AWS Configuration (for production)
AWS_ACCESS_KEY_ID=${STAGING_AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${STAGING_AWS_SECRET_ACCESS_KEY}
AWS_DEFAULT_REGION=us-east-1
S3_BUCKET=mlops-staging-artifacts

# MinIO/S3 Configuration (AWS S3 for staging)
MINIO_ROOT_USER=${STAGING_AWS_ACCESS_KEY_ID}
MINIO_ROOT_PASSWORD=${STAGING_AWS_SECRET_ACCESS_KEY}
MINIO_ENDPOINT=  # Empty for AWS S3
MINIO_CONSOLE_URL=  # Empty for AWS S3

# Model Serving
MODEL_SERVING_HOST=0.0.0.0
MODEL_SERVING_PORT=8000

# Streamlit Configuration
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0

# Architecture Services
STRUCTURIZR_PORT=8080
STRUCTURIZR_HOST=0.0.0.0
PLANTUML_PORT=8081
PLANTUML_HOST=0.0.0.0

# Monitoring
EVIDENTLY_WORKSPACE=staging_monitoring_workspace
MONITORING_SCHEDULE=daily

# Security
SECRET_KEY=${STAGING_SECRET_KEY}
API_KEY=${STAGING_API_KEY}

# Infrastructure
TERRAFORM_WORKSPACE=staging
NOMAD_ADDR=https://nomad-staging.your-domain.com:4646
CONSUL_HTTP_ADDR=https://consul-staging.your-domain.com:8500

# Email Configuration (for alerts)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=${STAGING_SMTP_USERNAME}
SMTP_PASSWORD=${STAGING_SMTP_PASSWORD}

# GitHub (for CI/CD)
GITHUB_TOKEN=${STAGING_GITHUB_TOKEN}
